import deepmerge from '../../bundled_CJS_deps/deepmerge/dist/cjs.js';

function excludeParentKeys(dictionary, transformOpts) {
    if (!transformOpts?.excludeParentKeys) {
        return dictionary;
    }
    const copy = {};
    Object.values(dictionary).forEach(set => {
        Object.entries(set).forEach(([key, tokenGroup]) => {
            if (copy[key]) {
                copy[key] = deepmerge(copy[key], tokenGroup);
            }
            else {
                copy[key] = tokenGroup;
            }
        });
    });
    return copy;
}

export { excludeParentKeys };
